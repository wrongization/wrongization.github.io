<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>wrongization - ACAね</title><meta name="author" content="wrongization"><meta name="copyright" content="wrongization"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="BUAAer">
<meta property="og:type" content="website">
<meta property="og:title" content="wrongization">
<meta property="og:url" content="https://wrongization.site/index.html">
<meta property="og:site_name" content="wrongization">
<meta property="og:description" content="BUAAer">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wrongization.site/img/logo.webp">
<meta property="article:author" content="wrongization">
<meta property="article:tag" content="BUAA">
<meta property="article:tag" content="CO">
<meta property="article:tag" content="北航">
<meta property="article:tag" content="北京航空航天大学">
<meta property="article:tag" content="wrongization">
<meta property="article:tag" content="blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wrongization.site/img/logo.webp"><link rel="shortcut icon" href="/img/logo.webp"><link rel="canonical" href="https://wrongization.site/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family= broadway|华文中宋|Titillium Web|PingFang SC|Hiragino Sans GB|Microsoft JhengHei|Microsoft YaHeisans-serif" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":0},
  copy: {
    success: '成功复制~',
    error: '复制内容到了星之彼方',
    noSupport: '不支持的浏览器！'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '月前'
  },
  copyright: {"copy":true,"copyrightEbable":true,"limitCount":100,"languages":{"author":"作者: wrongization","link":"原文连接: ","source":"来源: wrongization","info":"复制和转载请标明出处。"}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"你切换到了简体中文","cht_to_chs":"你切换到了繁体中文","day_to_night":"永远是深夜有多好。","night_to_day":"地球就是完美的观测特等席。","bgLight":"#7D26CD","bgDark":"#551A8B","position":"bottom-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '💡加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'wrongization',
  isPost: false,
  isHome: true,
  isHighlightShrink: true,
  isToc: false,
  postUpdate: '2025-07-09 13:59:21'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel='stylesheet' href='https://chinese-fonts-cdn.deno.dev/packages/maple-mono-cn/dist/MapleMono-CN-Regular/result.css' /><link rel="stylesheet" href="/css/transpancy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">🍵载入中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/logo.webp" onerror="onerror=null;src='/img/gif404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">类别</div><div class="length-num">25</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-images"></i><span> 图库</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-paint-brush"></i><span> 画廊</span></a></li><li><a class="site-page child" href="/photo/"><i class="fa-fw fas fa-camera"></i><span> 摄影</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 推荐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/top.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="wrongization"><img class="site-icon" src="/img/logo.webp"/><span class="site-name">wrongization</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 类别</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-images"></i><span> 图库</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-paint-brush"></i><span> 画廊</span></a></li><li><a class="site-page child" href="/photo/"><i class="fa-fw fas fa-camera"></i><span> 摄影</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 推荐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">wrongization</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://space.bilibili.com/175003959" target="_blank" title="bilibili"><i class="fab fa-bilibili" style="color: #FF69B4;"></i></a><a class="social-icon" href="https://500px.com.cn/wrongization" target="_blank" title="500px"><i class="fab fa-500px" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:2560668452@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #7D26CD;"></i></a><a class="social-icon" href="https://steamcommunity.com/id/wrongization" target="_blank" title="steam"><i class="fab fa-steam-square" style="color: #00008B;"></i></a><a class="social-icon" href="https://www.test-ipv6.com/index.html.zh_CN" target="_blank" title="ipv6测试"><i class="fas fa-spinner fa-pulse" style="color: #00EE00;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2025/06/18/os-shell.html" title="BUAA-OS-shell"><img class="post-bg" src="/img/cover/osshell/osshell.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-shell"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/06/18/os-shell.html" title="BUAA-OS-shell">BUAA-OS-shell</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-06-17T16:28:25.000Z" title="创建 2025-06-18 00:28:25">2025-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/shell/">shell</a></span></div><div class="content">BUAA OS LAB6-SHELL 大作业报告
前言
本来一开始准备写swap，但在长达四天的swap奋战后，OS大作业取得了惊人的突破：转战shell
总计增删代码量为 2176 行。

相比于swap里的云里雾里，shell指导书相对清晰有逻辑。
然后，感谢懒鱼提供思路，对于内核态的修改路径帮助很大，虽然解析还是使用课程组的史山。不过能有OO纯正则解决表达式难？
BUAA-OO-unit1 | wrongization
北航2025 OS shell挑战性任务实现指导 | Lazyfish &amp; chilly_river
实现要求
参见：任务要求
功能实现
不带 .b 后缀指令
修改spawn.c
12345678910111213141516171819int spawn(char *prog, char **argv) &#123;	// Step 1: Open the file &#x27;prog&#x27; (the path of the program).	// Return the error if &#x27;open&#x27; fails.	int  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/06/10/oo_unit4.html" title="BUAA-OO-unit4"><img class="post-bg" src="/img/cover/oo_unit4/oo_unit4.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OO-unit4"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/06/10/oo_unit4.html" title="BUAA-OO-unit4">BUAA-OO-unit4</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-06-10T15:20:28.000Z" title="创建 2025-06-10 23:20:28">2025-06-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-oo/">buaa-oo</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-oo/unit4/">unit4</a></span></div><div class="content">OO Unit4 Summary

回顾一下第四单元完成的任务：利用UML进行正向建模，并完成一个小型的图书馆管理系统

hw13:实现借阅，预约，预约取书，还书等基本流程
hw14: 实现图书室借阅功能，并增加热门书架与普通书架
hw15：引用用户信用积分限制


一、正向建模与开发
正向建模与开发是一种软件工程方法，主要用于系统设计和实现过程中，特别是在软件开发和硬件设计领域。这种方法从高层次的需求和概念开始，逐步细化和分解，直到实现细节，整个过程类似于从宏观到微观的构建方式。正向建模与开发强调从抽象到具体、从整体到部分的设计思想，有助于确保系统设计的连贯性和完整性，便于团队成员理解整个系统的工作原理。
OO作业是迭代性任务，一个良好的初期架构对于后期作业的顺利完成是十分重要的，本单元中，课程组的初衷是先绘制UML类图等进行正向建模，并据此进行后续开发。对此，我的做法是首先设计整体框架，抽象出主要类例如书架、借还处、预约处等类，将类聚合到一个总体类图书馆中，对不同操作抽象出一些大的方法，得到一开始的粗略图。在图书馆类中针对不同操作抽象方法，调用不同的组成部分调用其内部具体实现方法， ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/06/01/oslab6.html" title="BUAA-OS-LAB6"><img class="post-bg" src="/img/cover/oslab6/oslab6.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB6"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/06/01/oslab6.html" title="BUAA-OS-LAB6">BUAA-OS-LAB6</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-06-01T03:45:14.000Z" title="创建 2025-06-01 11:45:14">2025-06-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/lab6/">lab6</a></span></div><div class="content">BUAA OS LAB6 实验报告
Thinking
Thinking 6.1
Q:

示例代码中，父进程操作管道的写端，子进程操作管道的读端。
如果现在想 让父进程作为“读者”，代码应当如何修改？

A:
1234567891011121314151617switch (fork()) &#123;    case -1:        break;        case 0: /* 子进程 - 作为管道的写者 */        close(fildes[0]); /* 关闭不用的读端 */        write(fildes[1], &quot;Hello world\n&quot;, 12); /* 向管道中写数据 */        close(fildes[1]); /* 写入结束，关闭写端 */        exit(EXIT_SUCCESS);        default: /* 父进程 - 作为管道的写者 */        close(fildes[1]); /* 关闭不用的写端 */        read(fildes[0], buf, 100); / ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/05/17/oslab5.html" title="BUAA-OS-LAB5"><img class="post-bg" src="/img/cover/oslab5/oslab5.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB5"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/05/17/oslab5.html" title="BUAA-OS-LAB5">BUAA-OS-LAB5</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-05-17T11:55:44.000Z" title="创建 2025-05-17 19:55:44">2025-05-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/lab5/">lab5</a></span></div><div class="content">BUAA OS LAB5 实验报告
Thinking
Thinking 5.1
Q:

如果通过 kseg0 读写设备，那么对于设备的写入会缓存到 Cache 中。这是 一种错误的行为，在实际编写代码的时候这么做会引发不可预知的问题。
请思考：这么做 这会引发什么问题？对于不同种类的设备（如我们提到的串口设备和IDE磁盘）的操作会 有差异吗？可以从缓存的性质和缓存更新的策略来考虑。

A:
当外部设备更新数据时，Cache中旧的数据可能刚刚缓存，那么完成缓存的这一部分无法完成更新，则会发生错误。
对于串口设备来说，读写更加频繁，信号密集，在相同的时间内发生错误的可能性远高于IDE磁盘。
Thinking 5.2
Q:

查找代码中的相关定义，试回答一个磁盘块中最多能存储多少个文件控制 块？一个目录下最多能有多少个文件？我们的文件系统支持的单个文件最大为多大？

A:
一个文件控制块的大小为256B ，那么一个磁盘块4KB最多存储4KB/256B=16 个文件控制块。
一个目录 = 一个磁盘块全部用来存目录项，又一个目录项32位=4B；则一个目录 4KB ，一个目录中有 4KB/4B=1 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/05/17/oo_unit3.html" title="BUAA-OO-unit3"><img class="post-bg" src="/img/cover/oo_unit3/oo_unit3.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OO-unit3"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/05/17/oo_unit3.html" title="BUAA-OO-unit3">BUAA-OO-unit3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-05-17T11:37:18.000Z" title="创建 2025-05-17 19:37:18">2025-05-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-oo/">buaa-oo</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-oo/unit3/">unit3</a></span></div><div class="content">OO Unit3 Summary
架构设计梳理：
HW9:
重点架构设计：
第一次作业整体上难度不大，但是需要对jml的实现细节考虑周全，对于一些开销较大的方法需要动态维护以降低时间复杂度，容器尽量使用HashMap等速度较快的。以下列出一些重点方法的实现。
iscircle:
采用朴素bfs加一个visited的map实现去重访问。
queryTripleSum:
采用动态维护，对于添加关系和删除关系，相当于增加或者删除了两人的公共好友数量的三元环。
queryBestAcquaintance:
加入时动态维护最大值，删除时如果删除了最大值重新遍历得到最大值。
getAgeavg/var:
方差和平均数动态维护,注意方差的书写需要考虑整除带来的影响
1return (agesquaresum - 2 * agesum * mean + n * mean * mean) / n;
bug分析和遇到的问题：
第一次测试和舍友对拍了许多测试点，公测功能没出现问题，性能卡了一个点，原因是queryTripleSum一开始采用一种将无向图根据度数转换为有向图的方法，复杂度为O($n\sqrt{ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/05/07/oslab4.html" title="BUAA-OS-LAB4"><img class="post-bg" src="/img/cover/oslab4/oslab4.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB4"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/05/07/oslab4.html" title="BUAA-OS-LAB4">BUAA-OS-LAB4</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-05-07T12:35:18.000Z" title="创建 2025-05-07 20:35:18">2025-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/lab4/">lab4</a></span></div><div class="content">BUAA OS LAB4 实验报告
Thinking
Thinking 4.1
Q:

思考并回答下面的问题：
•内核在保存现场的时候是如何避免破坏通用寄存器的？
•系统陷入内核调用后可以直接从当时的$a0-$a3参数寄存器中得到用户调用msyscall 留下的信息吗？
•我们是怎么做到让sys开头的函数“认为”我们提供了和用户调用msyscall时同样 的参数的？
•内核处理系统调用的过程对Trapframe做了哪些更改？这种修改对应的用户态的变化是什么？

A:

在 SAVE_ALL 中：
先 move k0,sp，先把通用寄存器的sp复制到$k0 ；
再 sw k0,TF_REG29(sp)、sw $2,TF_REG2(sp)：保存现场需要使用$v0作为协寄存器到内存的中转寄存器，写到内存时需要sp ，所以在正式保存协寄存器和通用寄存器前先保存这两个寄存器。
可以。
从用户函数 syscall_*() 到内核函数 sys_*() 时，$a1−$a3 未改变，$a0在handle_sys() 的时候被修改为内核函数的地址，但在内核函数 sys_*() 仅为占位符，不会被用到。同时 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/04/15/oo_unit2.html" title="BUAA-OO-unit2"><img class="post-bg" src="/img/cover/oo_unit2/oo_unit2.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OO-unit2"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/04/15/oo_unit2.html" title="BUAA-OO-unit2">BUAA-OO-unit2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-04-15T13:14:12.000Z" title="创建 2025-04-15 21:14:12">2025-04-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-oo/">buaa-oo</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-oo/unit2/">unit2</a></span></div><div class="content">OO Unit2 Summary
hw5:
架构设计：

MainClass负责输入，并将对应的Request委派给RequestTable，对应楼座的电梯Elevator通过RequestTable获取请求。这里，我还额外将存储Request的容器封装为一个RequestTable类，这将有利于未来迭代时自由分配指派电梯id。输入线程为主线程，向RequestTable 输入请求，使用线程安全list存储，SafeOutput实现输出安全。
Contorler方法类控制电梯单独行为，获取目标楼层、电梯运动开门等。
生产者：输入线程MainClass
托盘：候乘表RequestTable
消费者：电梯线程Elevator
生产者输入线程获取输入，投放到候乘表RequestTable，消费者电梯线程自己运行，同时扫描RequestTable，找到对应id的乘客后运行。
协作图：

调度：
第一次作业不涉及电梯id的分配，只需考虑单电梯的运行策略。
look算法：


当电梯有乘客时，以乘客中目标楼层距离当前楼层最远的请求为主请求确定目标楼层


当电梯没有乘客时，首先按照原方向，寻找距离 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/04/10/oslab3.html" title="BUAA-OS-LAB3"><img class="post-bg" src="/img/cover/oslab3/oslab3.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB3"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/04/10/oslab3.html" title="BUAA-OS-LAB3">BUAA-OS-LAB3</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-04-10T07:19:46.000Z" title="创建 2025-04-10 15:19:46">2025-04-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/lab3/">lab3</a></span></div><div class="content">BUAA OS LAB3 实验报告
Thinking
Thinking 3.1
Q:

请结合MOS中的页目录自映射应用解释代码中e-&gt;env_pgdir[PDX(UVPT)] = PADDR(e-&gt;env_pgdir) | PTE_V 的含义。

A:
UVPT为整个页表起始虚拟地址，e-&gt;env_pgdir[PDX(UVPT)为其对应的一级页表项，即为一个二级页表的基地址，PADDR(e-&gt;env_pgdir) | PTE_V 为整个页表起始的物理地址，该语句作用为将页目录自身物理地址映射为自身其中的一个一级页表项。
Thinking 3.2
Q:

elf_load_seg以函数指针的形式，接受外部自定义的回调函数 map_page。请你找到与之相关的data这一参数在此处的来源，并思考它的作用。没有这个参数可不可以？为什么？

A:
来源：
在include/elf.h中可以找到typedef int (*elf_mapper_t)(void *data, u_long va, size_t offset, u_int perm, const void  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/03/29/oslab2.html" title="BUAA-OS-LAB2"><img class="post-bg" src="/img/cover/oslab2/oslab2.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB2"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/03/29/oslab2.html" title="BUAA-OS-LAB2">BUAA-OS-LAB2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-03-29T09:46:54.000Z" title="创建 2025-03-29 17:46:54">2025-03-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/lab2/">lab2</a></span></div><div class="content">BUAA OS LAB2 实验报告
Thinking
Thinking 2.1
Q:

请根据上述说明，回答问题：在编写的 C 程序中，指针变量中存储的地址 被视为虚拟地址，还是物理地址？MIPS 汇编程序中 lw和sw 指令使用的地址被视为虚 拟地址，还是物理地址？

A:
实际程序中，访存、跳转等指令以及用于取指的PC寄存器中的访存目标地址都是虚拟地址。我们编写的C程序中中指针的值也是虚拟地址。
Thinking 2.2
Q:

•从可重用性的角度，阐述用宏来实现链表的好处。
•查看实验环境中的/usr/include/sys/queue.h，了解其中单向链表与循环链表的实 现，比较它们与本实验中使用的双向链表，分析三者在插入与删除操作上的性能差 异。

A:
宏的的特性就是可重复使用。当这段代码的具体实现需要更改时，只需要改宏这一处就行。宏相比函数由于是字符串的替换，因此不必进行地址的跳转和栈的保存。
在实验环境中，只看到了单向链表、双向链表、单向队列、双向队列、循环队列，感觉循环队列在插入和删除操作方面和循环链表没太大差异，据此进一步分析。
**插入操作：**单向链表插入操作十 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2025/03/22/oslab1.html" title="BUAA-OS-LAB1"><img class="post-bg" src="/img/cover/oslab1/oslab1.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB1"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/03/22/oslab1.html" title="BUAA-OS-LAB1">BUAA-OS-LAB1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">创建</span><time datetime="2025-03-22T15:12:09.000Z" title="创建 2025-03-22 23:12:09">2025-03-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/">buaa-os</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/buaa-os/lab1/">lab1</a></span></div><div class="content">BUAA OS LAB1 实验报告
Thinking
Thinking 1.1
Q:

在阅读附录中的编译链接详解以及本章内容后，尝试分别使用实验环境中 的原生 x86 工具链（gcc、ld、readelf、objdump 等）和 MIPS 交叉编译工具链（带有 mips-linux-gnu- 前缀，如 mips-linux-gnu-gcc、mips-linux-gnu-ld），重复其中的编 译和解析过程，观察相应的结果，并解释其中向objdump传入的参数的含义。

A:
编写程序hello.c
123456#include &lt;stdio.h&gt;int main()&#123;    printf(&quot;Hello World!\n&quot;);    return 0;&#125;

这里只截取.text部分

x86 .o
123456789101112131415am.o：     文件格式 elf64-x86-64Disassembly of section .text:0000000000000000 &lt;main&gt;:   0:   f3 0f  ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/logo.webp" onerror="this.onerror=null;this.src='/img/gif404.gif'" alt="avatar"/></div><div class="author-info__name">wrongization</div><div class="author-info__description">BUAAer</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">类别</div><div class="length-num">25</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/wrongization"><i class="fab fa-github"></i><span>My Github Page</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://space.bilibili.com/175003959" target="_blank" title="bilibili"><i class="fab fa-bilibili" style="color: #FF69B4;"></i></a><a class="social-icon" href="https://500px.com.cn/wrongization" target="_blank" title="500px"><i class="fab fa-500px" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:2560668452@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #7D26CD;"></i></a><a class="social-icon" href="https://steamcommunity.com/id/wrongization" target="_blank" title="steam"><i class="fab fa-steam-square" style="color: #00008B;"></i></a><a class="social-icon" href="https://www.test-ipv6.com/index.html.zh_CN" target="_blank" title="ipv6测试"><i class="fas fa-spinner fa-pulse" style="color: #00EE00;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">About界面更新了，记得看看呦！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最近投稿</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/06/18/os-shell.html" title="BUAA-OS-shell"><img src="/img/cover/osshell/osshell.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-shell"/></a><div class="content"><a class="title" href="/2025/06/18/os-shell.html" title="BUAA-OS-shell">BUAA-OS-shell</a><time datetime="2025-06-17T16:28:25.000Z" title="创建 2025-06-18 00:28:25">2025-06-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/10/oo_unit4.html" title="BUAA-OO-unit4"><img src="/img/cover/oo_unit4/oo_unit4.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OO-unit4"/></a><div class="content"><a class="title" href="/2025/06/10/oo_unit4.html" title="BUAA-OO-unit4">BUAA-OO-unit4</a><time datetime="2025-06-10T15:20:28.000Z" title="创建 2025-06-10 23:20:28">2025-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/06/01/oslab6.html" title="BUAA-OS-LAB6"><img src="/img/cover/oslab6/oslab6.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB6"/></a><div class="content"><a class="title" href="/2025/06/01/oslab6.html" title="BUAA-OS-LAB6">BUAA-OS-LAB6</a><time datetime="2025-06-01T03:45:14.000Z" title="创建 2025-06-01 11:45:14">2025-06-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/17/oslab5.html" title="BUAA-OS-LAB5"><img src="/img/cover/oslab5/oslab5.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OS-LAB5"/></a><div class="content"><a class="title" href="/2025/05/17/oslab5.html" title="BUAA-OS-LAB5">BUAA-OS-LAB5</a><time datetime="2025-05-17T11:55:44.000Z" title="创建 2025-05-17 19:55:44">2025-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/17/oo_unit3.html" title="BUAA-OO-unit3"><img src="/img/cover/oo_unit3/oo_unit3.webp" onerror="this.onerror=null;this.src='/img/404.webp'" alt="BUAA-OO-unit3"/></a><div class="content"><a class="title" href="/2025/05/17/oo_unit3.html" title="BUAA-OO-unit3">BUAA-OO-unit3</a><time datetime="2025-05-17T11:37:18.000Z" title="创建 2025-05-17 19:37:18">2025-05-17</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>类别</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/"><span class="card-category-list-name">buaa-co</span><span class="card-category-list-count">6</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/logisim/"><span class="card-category-list-name">logisim</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/logisim/%E5%8D%95%E5%91%A8%E6%9C%9Fcpu/"><span class="card-category-list-name">单周期cpu</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/mips/"><span class="card-category-list-name">mips</span><span class="card-category-list-count">1</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/mips/mips%E8%AF%AD%E6%B3%95%E7%9F%A5%E8%AF%86%E7%82%B9/"><span class="card-category-list-name">mips语法知识点</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/verilog/"><span class="card-category-list-name">verilog</span><span class="card-category-list-count">4</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/verilog/%E5%8D%95%E5%91%A8%E6%9C%9Fcpu/"><span class="card-category-list-name">单周期cpu</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/buaa-co/verilog/%E6%B5%81%E6%B0%B4%E7%BA%BFcpu/"><span class="card-category-list-name">流水线cpu</span><span class="card-category-list-count">3</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/P3/" style="font-size: 0.85em; color: rgb(17, 79, 133)">P3</a><a href="/tags/P4/" style="font-size: 0.85em; color: rgb(80, 71, 191)">P4</a><a href="/tags/P5/" style="font-size: 0.85em; color: rgb(25, 67, 5)">P5</a><a href="/tags/P6/" style="font-size: 0.85em; color: rgb(92, 42, 143)">P6</a><a href="/tags/P7/" style="font-size: 0.85em; color: rgb(175, 145, 54)">P7</a><a href="/tags/cangjie/" style="font-size: 0.85em; color: rgb(156, 43, 182)">cangjie</a><a href="/tags/co/" style="font-size: 1.23em; color: rgb(64, 150, 168)">co</a><a href="/tags/cpu/" style="font-size: 1.1em; color: rgb(119, 55, 21)">cpu</a><a href="/tags/lab0/" style="font-size: 0.85em; color: rgb(140, 21, 23)">lab0</a><a href="/tags/lab1/" style="font-size: 0.85em; color: rgb(22, 185, 56)">lab1</a><a href="/tags/lab2/" style="font-size: 0.85em; color: rgb(57, 92, 172)">lab2</a><a href="/tags/lab3/" style="font-size: 0.85em; color: rgb(163, 0, 120)">lab3</a><a href="/tags/lab4/" style="font-size: 0.85em; color: rgb(31, 159, 95)">lab4</a><a href="/tags/lab5/" style="font-size: 0.85em; color: rgb(109, 190, 102)">lab5</a><a href="/tags/lab6/" style="font-size: 0.85em; color: rgb(158, 38, 122)">lab6</a><a href="/tags/logisim/" style="font-size: 0.85em; color: rgb(47, 26, 146)">logisim</a><a href="/tags/mips/" style="font-size: 0.85em; color: rgb(186, 167, 64)">mips</a><a href="/tags/oo/" style="font-size: 0.97em; color: rgb(74, 169, 135)">oo</a><a href="/tags/os/" style="font-size: 1.35em; color: rgb(163, 133, 60)">os</a><a href="/tags/shell/" style="font-size: 0.85em; color: rgb(193, 32, 113)">shell</a><a href="/tags/test/" style="font-size: 0.85em; color: rgb(19, 21, 11)">test</a><a href="/tags/unit1/" style="font-size: 0.85em; color: rgb(18, 47, 60)">unit1</a><a href="/tags/unit2/" style="font-size: 0.85em; color: rgb(109, 100, 53)">unit2</a><a href="/tags/unit3/" style="font-size: 0.85em; color: rgb(102, 42, 133)">unit3</a><a href="/tags/unit4/" style="font-size: 0.85em; color: rgb(113, 85, 199)">unit4</a><a href="/tags/verilog/" style="font-size: 0.97em; color: rgb(164, 95, 44)">verilog</a><a href="/tags/vscode/" style="font-size: 0.85em; color: rgb(44, 174, 63)">vscode</a><a href="/tags/%E4%BB%93%E9%A2%89/" style="font-size: 0.85em; color: rgb(177, 24, 56)">仓颉</a></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>统计</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章 :</div><div class="item-count">21</div></div><div class="webinfo-item"><div class="item-name">总词数 :</div><div class="item-count">133.7k</div></div><div class="webinfo-item"><div class="item-name">上次投稿 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-07-09T05:59:20.595Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background: linear-gradient( 0deg,#D15FEE,30%,#7D26CD 100%)"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By wrongization</div><div class="footer_custom_text"><span id="realtime_duration"></span> <p> <a style="margin-inline:5px"target="_blank" href="https://hexo.io/"> <img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为 Hexo" alt="HEXO"> </a> <a style="margin-inline:5px"target="_blank" href="https://butterfly.js.org/"> <img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用 Butterfly" alt="Butterfly"> </a> <a style="margin-inline:5px"target="_blank" href="https://github.com/"> <img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由 GitHub 托管" alt="GitHub"> </a> <a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"> <img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" alt="img" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"> </a> <a style="margin-inline:5px"target="_blank" href="https://www.cloudflare-cn.com"> <img src="https://img.shields.io/badge/DNS-Cloudflare-f6821f?style=flat&logo=cloudflare" title="本站采用Clouldflare DNS" alt="Clouldflare"> </a> <a style="margin-inline:5px"target="_blank" href="https://ipw.cn/ipv6webcheck/?site=wrongization.github.io"> <img src="https://img.shields.io/badge/Internet-IPV6-07c160?style=flat&logo=data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjI2NjE2MjI3NDgxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI0NjkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDY0YTQ0OCA0NDggMCAxIDAgMCA4OTZBNDQ4IDQ0OCAwIDAgMCA1MTIgNjR6IG0wIDgyMC4wMzJBMzcyLjAzMiAzNzIuMDMyIDAgMCAxIDUxMiAxMzkuOTY4YTM3Mi4wMzIgMzcyLjAzMiAwIDAgMSAwIDc0NC4wNjR6IiBmaWxsPSIjMDdjMTYwIiBwLWlkPSIyNDcwIj48L3BhdGg+PHBhdGggZD0iTTM4Mi4yMDggNzMxLjI2NFYzMjBIMzIwdjQxMS4yNjRoNjIuMjA4eiBtMTQ0LjU3NiAwVjU3MS4xMzZoMTA2LjU2Yzk4LjQ5NiAwIDE0OC4wMzItNDIuMDQ4IDE0OC4wMzItMTI2LjE0NEM3ODEuMzc2IDM2MS40NzIgNzMyLjQxNiAzMjAgNjM0LjQ5NiAzMjBINDY0djQxMS4yNjRoNjIuNzg0eiBtMTAyLjUyOC0yMTMuNjk2SDUyNi43ODR2LTE0NGgxMDIuNTI4YzMwLjUyOCAwIDUyLjk5MiA1Ljc2IDY3LjM5MiAxNy4yOCAxNC40IDEwLjM2OCAyMS44ODggMjguOCAyMS44ODggNTQuMTQ0IDAgMjUuMzQ0LTcuNDg4IDQzLjc3Ni0yMS4zMTIgNTUuMjk2LTE0LjQgMTEuNTItMzYuODY0IDE3LjI4LTY3Ljk2OCAxNy4yOHoiIGZpbGw9IiMwN2MxNjAiIHAtaWQ9IjI0NzEiPjwvcGF0aD48L3N2Zz4=" title="本站支持IPv6访问" alt="ipv6"> </a> <a style="margin-inline:5px"target="_blank" href="https://v6.51.la/land/3L1PzYyEGNZiFQyL"> <img src="https://img.shields.io/badge/Support-51.LA-1690ff?style=flat&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAAzNJREFUWEe9V0tPFEEQ5j+BC8h7kaiJB72oUS/Gg3pRSYw3PRkvHky8EpC3LNGoG4yKxIgxRPEgvjBBWUIEI+oShekZdmd2y/qGGXeYbmZndnUr+fbVPVVfV39V3VvVOig+x0fMNL9XFPGRbLptUMxX8ct6x22i9oRVUSBm25DQkIE0fuAvFUV7wiRe/GpZBFoZLYPqsWL4JwQQPD68SUQ1HoSyCdT1adQ5YdC16QzV9mrKOUEoiwBWHLuh0cSCST9EnnbdFNQUcSvKIrCzX9DBOzppWbLt4uQG1TAh1dztUBaBag7WNeNEZ3u5bFFDvxZJkCUTaBwQtGdE0NJazglPZPHHUw+NSFoomUBNj6DLzzec0AVLfjJpB2cmbEWURKCZU9zMGZhZsZywBVvL5G1dQB+qZ/0oiUCMU3z2sUF5J6jfumYyocUYmUALA3s8njKdcLJ9+Z2j3awP6ETlw4vIBOr7BB1N6qRvH9826AM6UfnwIjIBpHbgfaH0trPXrA/oBHpR+XERiUAjC2vfqKAVTd79rE+PmHFm3LD1ovLlIhIBNJ6rLzKbETw2tWTR8Ac5K4/mTVsvQSUZmgBSCUezPwuNxzW04P23dDJ8uoBOoJf6gJIMTQDN5cITufEsr+VtxSM7OJT81v8uG1iSoQig9Or52J1clBtP95vNANjrTkVv+MZ6gW6gH5XvUATqegUdH9Mloa1z1zvkdD23O779LpOEbpAhle+iBLDvSP/oR1lkY9z3cR9wRYa6vzIlbxN0w/6VJVmUQAOv7gALLK1vTa7FX0/7Tj50vr0JQcvrcpmeZ/1gIV7fQFEC1T0aXX8ll970V4v3VT77oYduzx3BtaeLpq0j6Mk7P5AAUtbB16yFX3LpXXqmvv1AD4fv4pbkyxi7OHHf4Dvk1vmBBGIsPgSC5dgfkGfMpXM2MdX9D3qI8UqTc6ZdEZgPwBKzWd4ynuN5LpBAE+/psXu6fetFWwXOcakd4d8w5p3rBcbQmFCWmI+jGz5OPjDs8dAE4gw4q+W0IXUuIEzvPD9Uz2HlqktKURH+b/wlwC/On1OzovD8OdVSnIFVsKkkmMRq25BI/QEyZCI2oNn1NQAAAABJRU5ErkJggg==" title="本站采用51.LA统计" alt="51.LA"> </a> </p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="darkmode" type="button" title="打开/关闭夜间模式"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="隐藏/显示侧边栏"><i class="fas fa-arrows-alt-h"></i></button><button id="go-up" type="button" title="返回顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["ずっと真夜中でいいのに。","永远是深夜就好了.🌙"])
  } else {
    document.getElementById("subtitle").textContent = "ずっと真夜中でいいのに。"
  }
}
typedJSFn.run(subtitleType)</script></div><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"3L1PzYyEGNZiFQyL",ck:"3L1PzYyEGNZiFQyL"})</script><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script> new LingQue.Monitor().init({id:"3L1Q2CzO5ktWU3Sd"});</script><script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.7/dayjs.min.js"></script><script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.7/plugin/duration.min.js"></script><script src="/scripts/realtime.js"></script><linkrel="stylesheet"href="http://aciano.top/redirect/?target=https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="120" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="false" data-text="ZTMY" data-fontsize="15px" data-random="false" async="async"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div></body></html>